<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="Date-Revision-yyyymmdd" content="20140918"/>
  <meta http-equiv="Content-Language" content="en"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Tag Developers Guide</title>

  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,400italic,600italic,700italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">
  <link href="/highlighter/github-theme.css" rel="stylesheet">

  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="/bootstrap/js/bootstrap.js"></script>
  <script type="text/javascript" src="/js/community.js"></script>
</head>
<body>

<a href="http://github.com/apache/struts" class="github-ribbon">
  <img style="position: absolute; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub">
</a>

<header>
  <nav>
    <div role="navigation" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" data-toggle="collapse" data-target="#struts-menu" class="navbar-toggle">
            Menu
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand logo"><img src="/img/struts-logo.svg"></a>
        </div>
        <div id="struts-menu" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Home<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">Welcome</a></li>
                <li><a href="/download.cgi">Download</a></li>
                <li><a href="/releases.html">Releases</a></li>
                <li><a href="/announce.html">Announcements</a></li>
                <li><a href="http://www.apache.org/licenses/">License</a></li>
                <li><a href="https://www.apache.org/foundation/thanks.html">Thanks!</a></li>
                <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Support<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/mail.html">User Mailing List</a></li>
                <li><a href="https://issues.apache.org/jira/browse/WW">Issue Tracker</a></li>
                <li><a href="/security.html">Reporting Security Issues</a></li>
                <li class="divider"></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Migration+Guide">Version Notes</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Security+Bulletins">Security Bulletins</a></li>
                <li class="divider"></li>
                <li><a href="/maven/project-info.html">Maven Project Info</a></li>
                <li><a href="/maven/struts2-core/dependencies.html">Struts Core Dependencies</a></li>
                <li><a href="/maven/struts2-plugins/modules.html">Plugin Dependencies</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Documentation<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/birdseye.html">Birds Eye</a></li>
                <li><a href="/primer.html">Key Technologies</a></li>
                <li><a href="/kickstart.html">Kickstart FAQ</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Home">Wiki</a></li>
                <li class="divider"></li>
                <li><a href="/getting-started/">Getting Started</a></li>
                <li><a href="/security/">Security Guide</a></li>
                <li><a href="/core-developers/">Core Developers Guide</a></li>
                <li><a href="/tag-developers/">Tag Developers Guide</a></li>
                <li><a href="/maven-archetypes/">Maven Archetypes</a></li>
                <li><a href="/plugins/">Plugins</a></li>
                <li><a href="/maven/struts2-core/apidocs/index.html">Struts Core API</a></li>
                <li><a href="/tag-developers/tag-reference.html">Tag reference</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/FAQs">FAQs</a></li>
                <li><a href="http://cwiki.apache.org/S2PLUGINS/home.html">Plugin registry</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Contributing<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/youatstruts.html">You at Struts</a></li>
                <li><a href="/helping.html">How to Help FAQ</a></li>
                <li><a href="/dev-mail.html">Development Lists</a></li>
                <li class="divider"></li>
                <li><a href="/submitting-patches.html">Submitting patches</a></li>
                <li><a href="/builds.html">Source Code and Builds</a></li>
                <li><a href="/coding-standards.html">Coding standards</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Contributors+Guide">Contributors Guide</a></li>
                <li class="divider"></li>
                <li><a href="/release-guidelines.html">Release Guidelines</a></li>
                <li><a href="/bylaws.html">PMC Charter</a></li>
                <li><a href="/volunteers.html">Volunteers</a></li>
                <li><a href="https://git-wip-us.apache.org/repos/asf?p=struts.git">Source Repository</a></li>
              </ul>
            </li>
            <li class="apache"><a href="http://www.apache.org/"><img src="/img/apache.png"></a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>


<article class="container">
  <section class="col-md-12">
    <a class="edit-on-gh" href="https://github.com/apache/struts-site/edit/master/source/tag-developers/iterator-tag.md" title="Edit this page on GitHub">Edit on GitHub</a>
    
    <h1 id="iterator">iterator</h1>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The id attribute is deprecated in Struts 2.1.x, and has been replaced by the var attribute.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The begin, end and step attributes are only available from 2.1.7 on</p>

<blockquote>

</blockquote>

<p><strong>Description</strong></p>

<p>
 <p>Iterator will iterate over a value. An iterable value can be any of: java.util.Collection, java.util.Iterator,
 java.util.Enumeration, java.util.Map, or an array.</p>

</p>

<p><strong>Parameters</strong></p>

<p>		<table width="100%">

			<tr>

				<td colspan="6"><h4>Dynamic Attributes Allowed:</h4> false</td>

			</tr>

			<tr>

				<td colspan="6">&nbsp;</td>

			</tr>

			<tr>

				<th align="left" valign="top"><h4>Name</h4></th>

				<th align="left" valign="top"><h4>Required</h4></th>

				<th align="left" valign="top"><h4>Default</h4></th>

				<th align="left" valign="top"><h4>Evaluated</h4></th>

				<th align="left" valign="top"><h4>Type</h4></th>

				<th align="left" valign="top"><h4>Description</h4></th>

			</tr>

				<tr>

					<td align="left" valign="top">begin</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">0</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">Integer</td>

					<td align="left" valign="top">if specified the iteration will start on that index</td>

				</tr>

				<tr>

					<td align="left" valign="top">end</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">Size of the 'values' List or array, or 0 if 'step' is negative</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">Integer</td>

					<td align="left" valign="top">if specified the iteration will end on that index(inclusive)</td>

				</tr>

				<tr>

					<td align="left" valign="top">status</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">Boolean</td>

					<td align="left" valign="top">If specified, an instanceof IteratorStatus will be pushed into stack upon each iteration</td>

				</tr>

				<tr>

					<td align="left" valign="top">step</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">1</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">Integer</td>

					<td align="left" valign="top">if specified the iteration index will be increased by this value on each iteration. It can be a negative value, in which case 'begin' must be greater than 'end'</td>

				</tr>

				<tr>

					<td align="left" valign="top">value</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top"></td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">String</td>

					<td align="left" valign="top">the iteratable source to iterate over, else an the object itself will be put into a newly created List</td>

				</tr>

				<tr>

					<td align="left" valign="top">var</td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top"></td>

					<td align="left" valign="top">false</td>

					<td align="left" valign="top">String</td>

					<td align="left" valign="top">Name used to reference the value pushed into the Value Stack</td>

				</tr>

		</table>

</p>

<p><strong>Examples</strong></p>

<p>
 <p>The following example retrieves the value of the getDays() method of the current object on the value stack and
 uses it to iterate over. The <s:property /> tag prints out the current value of the iterator.</p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code> <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"days"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;p&gt;</span>day is: <span class="nt">&lt;s:property/&gt;&lt;/p&gt;</span>
 <span class="nt">&lt;/s:iterator&gt;</span>

</code></pre>
</div>

<p>
 <p>The following example uses a {@link Bean} tag and places it into the ActionContext. The iterator tag will retrieve
 that object from the ActionContext and then calls its getDays() method as above. The status attribute is also used to
 create an {@link IteratorStatus} object, which in this example, its odd() method is used to alternate row
 colours:</p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
 <span class="nt">&lt;s:bean</span> <span class="na">name=</span><span class="s">"org.apache.struts2.example.IteratorExample"</span> <span class="na">var=</span><span class="s">"it"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;s:param</span> <span class="na">name=</span><span class="s">"day"</span> <span class="na">value=</span><span class="s">"'foo'"</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;s:param</span> <span class="na">name=</span><span class="s">"day"</span> <span class="na">value=</span><span class="s">"'bar'"</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/s:bean&gt;</span>

 <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"0"</span> <span class="na">cellspacing=</span><span class="s">"0"</span> <span class="na">cellpadding=</span><span class="s">"1"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;tr&gt;</span>
   <span class="nt">&lt;th&gt;</span>Days of the week<span class="nt">&lt;/th&gt;</span>
 <span class="nt">&lt;/tr&gt;</span>

 <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"#it.days"</span> <span class="na">status=</span><span class="s">"rowstatus"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;tr&gt;</span>
     <span class="nt">&lt;s:if</span> <span class="na">test=</span><span class="s">"#rowstatus.odd == true"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: grey"</span><span class="nt">&gt;&lt;s:property/&gt;&lt;/td&gt;</span>
     <span class="nt">&lt;/s:if&gt;</span>
     <span class="nt">&lt;s:else&gt;</span>
       <span class="nt">&lt;td&gt;&lt;s:property/&gt;&lt;/td&gt;</span>
     <span class="nt">&lt;/s:else&gt;</span>
   <span class="nt">&lt;/tr&gt;</span>
 <span class="nt">&lt;/s:iterator&gt;</span>
 <span class="nt">&lt;/table&gt;</span>


</code></pre>
</div>

<p>
 <p> The next example will further demonstrate the use of the status attribute, using a DAO obtained from the action
 class through OGNL, iterating over groups and their users (in a security context). The last() method indicates if the
 current object is the last available in the iteration, and if not, we need to separate the users using a comma: </p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
  <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"groupDao.groups"</span> <span class="na">status=</span><span class="s">"groupStatus"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">"&lt;s:if test="</span><span class="err">#</span><span class="na">groupStatus.odd =</span><span class="s">=</span> <span class="err">true</span> <span class="err">"</span><span class="nt">&gt;</span>odd<span class="nt">&lt;/s:if&gt;&lt;s:else&gt;</span>even<span class="nt">&lt;/s:else&gt;</span>"&gt;
          <span class="nt">&lt;td&gt;&lt;s:property</span> <span class="na">value=</span><span class="s">"name"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
          <span class="nt">&lt;td&gt;&lt;s:property</span> <span class="na">value=</span><span class="s">"description"</span> <span class="nt">/&gt;&lt;/td&gt;</span>
          <span class="nt">&lt;td&gt;</span>
              <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"users"</span> <span class="na">status=</span><span class="s">"userStatus"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"fullName"</span> <span class="nt">/&gt;&lt;s:if</span> <span class="na">test=</span><span class="s">"!#userStatus.last"</span><span class="nt">&gt;</span>,<span class="nt">&lt;/s:if&gt;</span>
              <span class="nt">&lt;/s:iterator&gt;</span>
          <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/s:iterator&gt;</span>


</code></pre>
</div>

<p>
 <p> The next example iterates over a an action collection and passes every iterator value to another action. The
 trick here lies in the use of the '[0]' operator. It takes the current iterator value and passes it on to the edit
 action. Using the '[0]' operator has the same effect as using <s:property />. (The latter, however, does not
 work from inside the param tag). </p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
      <span class="nt">&lt;s:action</span> <span class="na">name=</span><span class="s">"entries"</span> <span class="na">var=</span><span class="s">"entries"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"#entries.entries"</span> <span class="nt">&gt;</span>
          <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"name"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;s:property</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;s:push</span> <span class="na">value=</span><span class="s">"..."</span><span class="nt">&gt;</span>
              <span class="nt">&lt;s:action</span> <span class="na">name=</span><span class="s">"edit"</span> <span class="na">var=</span><span class="s">"edit"</span> <span class="nt">&gt;</span>
                  <span class="nt">&lt;s:param</span> <span class="na">name=</span><span class="s">"entry"</span> <span class="na">value=</span><span class="s">"[0]"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/s:action&gt;</span>
          <span class="nt">&lt;/push&gt;</span>
      <span class="nt">&lt;/s:iterator&gt;</span>


</code></pre>
</div>

<p>
 <p>A loop that iterates 5 times</p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
 <span class="nt">&lt;s:iterator</span> <span class="na">var=</span><span class="s">"counter"</span> <span class="na">begin=</span><span class="s">"1"</span> <span class="na">end=</span><span class="s">"5"</span> <span class="nt">&gt;</span>
    <span class="c">&lt;!-- current iteration value (1, ... 5) --&gt;</span>
    <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"top"</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/s:iterator&gt;</span>


</code></pre>
</div>

<p>
 <p>Another way to create a simple loop, similar to JSTL's
 &lt;c:forEach begin="..." end="..." ...&gt; is to use some 
 OGNL magic, which provides some under-the-covers magic to 
 make 0-n loops trivial. This example also loops five times.</p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
 <span class="nt">&lt;s:iterator</span> <span class="na">status=</span><span class="s">"stat"</span> <span class="na">value=</span><span class="s">"(5).{ #this }"</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"#stat.count"</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- Note that "count" is 1-based, "index" is 0-based. --&gt;</span>
 <span class="nt">&lt;/s:iterator&gt;</span>


</code></pre>
</div>

<p>
 <p>A loop that iterates over a partial list</p>

</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
 <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"{1,2,3,4,5}"</span> <span class="na">begin=</span><span class="s">"2"</span> <span class="na">end=</span><span class="s">"4"</span> <span class="nt">&gt;</span>
    <span class="c">&lt;!-- current iteration value (2,3,4) --&gt;</span>
    <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"top"</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/s:iterator&gt;</span>


</code></pre>
</div>


  </section>
</article>


<footer class="container">
  <div class="col-md-12">
    Copyright &copy; 2000-2018 <a href="http://www.apache.org/">The Apache Software Foundation </a>.
    All Rights Reserved.
  </div>
  <div class="col-md-12">
    Apache Struts, Struts, Apache, the Apache feather logo, and the Apache Struts project logos are
    trademarks of The Apache Software Foundation.
  </div>
  <div class="col-md-12">Logo and website design donated by <a href="https://softwaremill.com/">SoftwareMill</a>.</div>
</footer>

<script>!function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (!d.getElementById(id)) {
    js = d.createElement(s);
    js.id = id;
    js.src = "//platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
  }
}(document, "script", "twitter-wjs");</script>
<script src="https://apis.google.com/js/platform.js" async="async" defer="defer"></script>

<div id="fb-root"></div>

<script>(function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


</body>
</html>
