<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="Date-Revision-yyyymmdd" content="20140918"/>
  <meta http-equiv="Content-Language" content="en"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>component tag</title>

  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,400italic,600italic,700italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">
  <link href="/highlighter/github-theme.css" rel="stylesheet">

  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="/bootstrap/js/bootstrap.js"></script>
  <script type="text/javascript" src="/js/community.js"></script>
</head>
<body>

<a href="http://github.com/apache/struts" class="github-ribbon">
  <img style="position: absolute; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub">
</a>

<header>
  <nav>
    <div role="navigation" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" data-toggle="collapse" data-target="#struts-menu" class="navbar-toggle">
            Menu
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand logo"><img src="/img/struts-logo.svg"></a>
        </div>
        <div id="struts-menu" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Home<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">Welcome</a></li>
                <li><a href="/download.cgi">Download</a></li>
                <li><a href="/releases.html">Releases</a></li>
                <li><a href="/announce.html">Announcements</a></li>
                <li><a href="http://www.apache.org/licenses/">License</a></li>
                <li><a href="https://www.apache.org/foundation/thanks.html">Thanks!</a></li>
                <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Support<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/mail.html">User Mailing List</a></li>
                <li><a href="https://issues.apache.org/jira/browse/WW">Issue Tracker</a></li>
                <li><a href="/security.html">Reporting Security Issues</a></li>
                <li class="divider"></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Migration+Guide">Version Notes</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Security+Bulletins">Security Bulletins</a></li>
                <li class="divider"></li>
                <li><a href="/maven/project-info.html">Maven Project Info</a></li>
                <li><a href="/maven/struts2-core/dependencies.html">Struts Core Dependencies</a></li>
                <li><a href="/maven/struts2-plugins/modules.html">Plugin Dependencies</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Documentation<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/birdseye.html">Birds Eye</a></li>
                <li><a href="/primer.html">Key Technologies</a></li>
                <li><a href="/kickstart.html">Kickstart FAQ</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Home">Wiki</a></li>
                <li class="divider"></li>
                <li><a href="/getting-started/">Getting Started</a></li>
                <li><a href="/security/">Security Guide</a></li>
                <li><a href="/core-developers/">Core Developers Guide</a></li>
                <li><a href="/tag-developers/">Tag Developers Guide</a></li>
                <li><a href="/maven-archetypes/">Maven Archetypes</a></li>
                <li><a href="/plugins/">Plugins</a></li>
                <li><a href="/maven/struts2-core/apidocs/index.html">Struts Core API</a></li>
                <li><a href="/tag-developers/tag-reference.html">Tag reference</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/FAQs">FAQs</a></li>
                <li><a href="http://cwiki.apache.org/S2PLUGINS/home.html">Plugin registry</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Contributing<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/youatstruts.html">You at Struts</a></li>
                <li><a href="/helping.html">How to Help FAQ</a></li>
                <li><a href="/dev-mail.html">Development Lists</a></li>
                <li class="divider"></li>
                <li><a href="/submitting-patches.html">Submitting patches</a></li>
                <li><a href="/builds.html">Source Code and Builds</a></li>
                <li><a href="/coding-standards.html">Coding standards</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Contributors+Guide">Contributors Guide</a></li>
                <li class="divider"></li>
                <li><a href="/release-guidelines.html">Release Guidelines</a></li>
                <li><a href="/bylaws.html">PMC Charter</a></li>
                <li><a href="/volunteers.html">Volunteers</a></li>
                <li><a href="https://gitbox.apache.org/repos/asf?p=struts.git">Source Repository</a></li>
              </ul>
            </li>
            <li class="apache"><a href="http://www.apache.org/"><img src="/img/apache.png"></a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>


<article class="container">
  <section class="col-md-12">
    <a class="edit-on-gh" href="https://github.com/apache/struts-site/edit/master/source/tag-developers/component-tag.md" title="Edit this page on GitHub">Edit on GitHub</a>
    
    <a href="tag-reference.html" title="back to Tag Reference"><< back to Tag Reference</a>
    
    <h1 id="component">component</h1>

<p>Please make sure you have read the <a href="tag-syntax">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<h2 id="description">Description</h2>

<p>Renders an custom UI widget using the specified templates. Additional objects can be passed in to the template
using the <a href="param-tag">param</a> tags.</p>

<p>404: Not Found</p>

<h3 id="freemarker">Freemarker:</h3>

<p>Objects provided can be retrieve from within the template via <code class="highlighter-rouge">$parameters._paramname_</code>.</p>

<h3 id="jsp">JSP:</h3>

<p>Objects provided can be retrieve from within the template via <code class="highlighter-rouge">&lt;s:property value="%{parameters._paramname_}" /&gt;</code></p>

<p>In the bottom JSP and Velocity samples, two parameters are being passed in to the component. From within the
component, they can be accessed as:</p>

<h3 id="freemarker-1">Freemarker:</h3>

<p><code class="highlighter-rouge">$parameters.get('key1')</code> and <code class="highlighter-rouge">$parameters.get('key2')</code> or <code class="highlighter-rouge">$parameters.key1</code> and <code class="highlighter-rouge">$parameters.key2</code></p>

<h3 id="jsp-1">JSP:</h3>

<p><code class="highlighter-rouge">&lt;s:property value="%{parameters.key1}" /&gt;</code> and <code class="highlighter-rouge">&lt;s:property value="%{'parameters.key2'}" /&gt;</code> or
<code class="highlighter-rouge">&lt;s:property value="%{parameters.get('key1')}" /&gt;</code> and <code class="highlighter-rouge">&lt;s:property value="%{parameters.get('key2')}" /&gt;</code></p>

<p>Currently, your custom UI components can be written in Velocity, JSP, or Freemarker, and the correct rendering
engine will be found based on file extension.</p>

<p><strong>Remember:</strong> the value <code class="highlighter-rouge">params</code> will always be resolved against the ValueStack so if you mean to pass a string literal 
to your component, make sure to wrap it in single quotes i.e. <code class="highlighter-rouge">value="'value1'"</code> (note the opening <code class="highlighter-rouge">"'</code> and closing <code class="highlighter-rouge">'"</code> 
otherwise, the value stack will search for an Object on the stack with a method of <code class="highlighter-rouge">getValue1()</code>.</p>

<p>If JSP is used as the template, the JSP template itself must lie within the webapp itself and not the classpath. 
Unlike Freemarker or Velocity, JSP template could not be picked up from the classpath.</p>

<p><strong>(!) templateDir and theme attribute</strong></p>

<blockquote>
  <p>The final path to the template will be built using the <em>templateDir</em>  and <em>template</em>  attributes, like 
${templateDir}/${theme}/${template}. If for example your component is under <em>/components/html/option.jsp</em>, 
you would have to set templateDir=”components”, theme=”html” and template=”options.jsp”.</p>
</blockquote>

<blockquote>
  <p>For any Struts tag that you use in your component, make sure that you set its templateDir=”template”</p>
</blockquote>

<h2 id="attributes">Attributes</h2>

<p>404: Not Found</p>

<h2 id="examples">Examples</h2>

<h3 id="jsp-2">JSP</h3>

<pre><code class="language-jsp">&lt;s:component template="/my/custom/component.vm"/&gt;
</code></pre>

<p>or</p>

<pre><code class="language-jsp">&lt;s:component template="/my/custom/component.vm"&gt;
    &lt;s:param name="key1" value="value1"/&gt;
    &lt;s:param name="key2" value="value2"/&gt;
&lt;/s:component&gt;
</code></pre>

<h3 id="velocity">Velocity</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#s-component( "template=/my/custom/component.vm" )
</code></pre></div></div>

<p>or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#s-component( "template=/my/custom/component.vm" )
    #s-param( "name=key1" "value=value1" )
    #s-param( "name=key2" "value=value2" )
#end
</code></pre></div></div>

<h3 id="freemarker-2">Freemarker</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;@s..component template="/my/custom/component.ftl" /&gt;
</code></pre></div></div>

<p>or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;@s.component template="/my/custom/component.ftl"&gt;
    &lt;@s.param name="key1" value="%{'value1'}" /&gt;
    &lt;@s.param name="key2" value="%{'value2'}" /&gt;
&lt;/@s.component&gt;
</code></pre></div></div>

  </section>
</article>


<footer class="container">
  <div class="col-md-12">
    Copyright &copy; 2000-2018 <a href="http://www.apache.org/">The Apache Software Foundation </a>.
    All Rights Reserved.
  </div>
  <div class="col-md-12">
    Apache Struts, Struts, Apache, the Apache feather logo, and the Apache Struts project logos are
    trademarks of The Apache Software Foundation.
  </div>
  <div class="col-md-12">Logo and website design donated by <a href="https://softwaremill.com/">SoftwareMill</a>.</div>
</footer>

<script>!function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (!d.getElementById(id)) {
    js = d.createElement(s);
    js.id = id;
    js.src = "//platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
  }
}(document, "script", "twitter-wjs");</script>
<script src="https://apis.google.com/js/platform.js" async="async" defer="defer"></script>

<div id="fb-root"></div>

<script>(function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


</body>
</html>
