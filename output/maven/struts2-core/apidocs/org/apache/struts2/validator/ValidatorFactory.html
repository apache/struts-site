<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ValidatorFactory (Struts 2 Core 7.0.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.struts2.validator, interface: ValidatorFactory">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ValidatorFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.struts2.validator</a></div>
<h1 title="Interface ValidatorFactory" class="title">Interface ValidatorFactory</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="DefaultValidatorFactory.html" title="class in org.apache.struts2.validator">DefaultValidatorFactory</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ValidatorFactory</span></div>
<div class="block">ValidatorFactory

 <p>
 <!-- START SNIPPET: javadoc -->
 Validation rules are handled by validators, which must be registered with
 the ValidatorFactory (using the registerValidator method). The simplest way to do so is to add a file name
 validators.xml in the root of the classpath (/WEB-INF/classes) that declares
 all the validators you intend to use.
 <!-- END SNIPPET: javadoc -->
 </p>


 <p>
 <b>INFORMATION</b>
 <!-- START SNIPPET: information -->
 validators.xml if being defined should be available in the classpath. However
 this is not necessary, if no custom validator is needed. Predefined sets of validators
 will automatically be picked up when defined in
 org/apache/struts2/validator/validators/default.xml packaged in
 in the xwork jar file. See ValidatorFactory static block for details.
 <!-- END SNIPPET: information -->
 </p>

 <p>
 <b>WARNING</b>
 <!-- START SNIPPET: warning -->
 If custom validator is being defined and a validators.xml is created and
 place in the classpath, do remember to copy all the other pre-defined validators
 that is needed into the validators.xml as if not they will not be registered.
 Once a validators.xml is detected in the classpath, the default one
 (org/apache/struts2/validator/validators/default.xml) will not be loaded.
 It is only loaded when a custom validators.xml cannot be found in the classpath.
  Be careful.
 <!-- END SNIPPET: warning -->
 </p>

 <p><b>Note:</b>
 <!-- START SNIPPET: turningOnValidators -->
 The default validationWorkflowStack already includes this.<br>
 All that is required to enable validation for an Action is to put the
 ValidationInterceptor in the interceptor refs of the action (see xwork.xml) like so:
 <!-- END SNIPPET: turningOnValidators -->
 </p>

 <pre>
 <!-- START SNIPPET: exTurnOnValidators -->
     &lt;interceptor name="validator" class="org.apache.struts2.validator.ValidationInterceptor"/&gt;
 <!-- END SNIPPET: exTurnOnValidators -->
 </pre>

 <p><b>Field Validators</b>
 <!-- START SNIPPET: fieldValidators -->
 Field validators, as the name indicate, act on single fields accessible through an action.
 A validator, in contrast, is more generic and can do validations in the full action context,
 involving more than one field (or even no field at all) in validation rule.
 Most validations can be defined on per field basis. This should be preferred over
 non-field validation wherever possible, as field validator messages are bound to the
 related field and will be presented next to the corresponding input element in the
 respecting view.
 <!-- END SNIPPET: fieldValidators -->
 </p>

 <p><b>Non Field Validators</b>
 <!-- START SNIPPET: nonFieldValidators -->
 Non-field validators only add action level messages. Non-field validators
 are mostly domain specific and therefore offer custom implementations.
 The most important standard non-field validator provided by XWork
 is ExpressionValidator.
 <!-- END SNIPPET: nonFieldValidators -->
 </p>

 <p><b>NOTE:</b>
 <!-- START SNIPPET: validatorsNote -->
 Non-field validators takes precedence over field validators
 regardless of the order they are defined in *-validation.xml. If a non-field
 validator is short-circuited, it will causes its non-field validator to not
 being executed. See validation framework documentation for more info.
 <!-- END SNIPPET: validatorsNote -->
 </p>

 <p><b>VALIDATION RULES:</b></p>
 <!-- START SNIPPET: validationRules1 -->
 <p>Validation rules can be specified:</p>
 <ol>
  <li> Per Action class: in a file named ActionName-validation.xml</li>
  <li> Per Action alias: in a file named ActionName-alias-validation.xml</li>
  <li> Inheritance hierarchy and interfaces implemented by Action class:
  XWork searches up the inheritance tree of the action to find default
  validations for parent classes of the Action and interfaces implemented</li>
 </ol>
 <p>Here is an example for SimpleAction-validation.xml:</p>
 <!-- END SNIPPET: validationRules1 -->

 <pre>
 <!-- START SNIPPET: exValidationRules1 -->
 &lt;!DOCTYPE validators PUBLIC "-//Apache Struts//XWork Validator 1.0.3//EN"
                "https://struts.apache.org/dtds/xwork-validator-1.0.3.dtd"&gt;
 &lt;validators&gt;
   &lt;field name="bar"&gt;
       &lt;field-validator type="required"&gt;
           &lt;message&gt;You must enter a value for bar.&lt;/message&gt;
       &lt;/field-validator&gt;
       &lt;field-validator type="int"&gt;
           &lt;param name="min"&gt;6&lt;/param&gt;
           &lt;param name="max"&gt;10&lt;/param&gt;
           &lt;message&gt;bar must be between ${min} and ${max}, current value is ${bar}.&lt;/message&gt;
       &lt;/field-validator&gt;
   &lt;/field&gt;
   &lt;field name="bar2"&gt;
       &lt;field-validator type="regex"&gt;
           &lt;param name="expression"&gt;[0-9],[0-9]&lt;/param&gt;
           &lt;message&gt;The value of bar2 must be in the format "x, y", where x and y are between 0 and 9&lt;/message&gt;
      &lt;/field-validator&gt;
   &lt;/field&gt;
   &lt;field name="date"&gt;
       &lt;field-validator type="date"&gt;
           &lt;param name="min"&gt;12/22/2002&lt;/param&gt;
           &lt;param name="max"&gt;12/25/2002&lt;/param&gt;
           &lt;message&gt;The date must be between 12-22-2002 and 12-25-2002.&lt;/message&gt;
       &lt;/field-validator&gt;
   &lt;/field&gt;
   &lt;field name="foo"&gt;
       &lt;field-validator type="int"&gt;
           &lt;param name="min"&gt;0&lt;/param&gt;
           &lt;param name="max"&gt;100&lt;/param&gt;
           &lt;message key="foo.range"&gt;Could not find foo.range!&lt;/message&gt;
       &lt;/field-validator&gt;
   &lt;/field&gt;
   &lt;validator type="expression"&gt;
       &lt;param name="expression"&gt;foo lt bar &lt;/param&gt;
       &lt;message&gt;Foo must be greater than Bar. Foo = ${foo}, Bar = ${bar}.&lt;/message&gt;
   &lt;/validator&gt;
 &lt;/validators&gt;
 <!-- END SNIPPET: exValidationRules1 -->
 </pre>


 <p>
 <!-- START SNIPPET: validationRules2 -->
 Here we can see the configuration of validators for the SimpleAction class.
 Validators (and field-validators) must have a type attribute, which refers
 to a name of an Validator registered with the ValidatorFactory as above.
 Validator elements may also have &lt;param&gt; elements with name and value attributes
 to set arbitrary parameters into the Validator instance. See below for discussion
 of the message element.
 <!-- END SNIPPET: validationRules2 -->
 </p>



 <!-- START SNIPPET: validationRules3 -->
 <p>Each Validator or Field-Validator element must define one message element inside
 the validator element body. The message element has 1 attributes, key which is not
 required. The body of the message tag is taken as the default message which should
 be added to the Action if the validator fails. Key gives a message key to look up
 in the Action's ResourceBundles using getText() from LocaleAware if the Action
 implements that interface (as ActionSupport does). This provides for Localized
 messages based on the Locale of the user making the request (or whatever Locale
 you've set into the LocaleAware Action). After either retrieving the message from
 the ResourceBundle using the Key value, or using the Default message, the current
 Validator is pushed onto the ValueStack, then the message is parsed for \$\{...\}
 sections which are replaced with the evaluated value of the string between the
 \$\{ and \}. This allows you to parameterize your messages with values from the
 Validator, the Action, or both.</p>


 <p>If the validator fails, the validator is pushed onto the ValueStack and the
 message - either the default or the locale-specific one if the key attribute is
 defined (and such a message exists) - is parsed for ${...} sections which are
 replaced with the evaluated value of the string between the ${ and }. This
 allows you to parameterize your messages with values from the validator, the
 Action, or both. </p>

 <p><b>NOTE:</b> Since validation rules are in an XML file, you must make sure
 you escape special characters. For example, notice that in the expression
 validator rule above we use "&amp;gt;" instead of "&gt;". Consult a resource on XML
 for the full list of characters that must be escaped. The most commonly used
 characters that must be escaped are: &amp; (use &amp;amp;), &gt; (user &amp;gt;), and &lt; (use &amp;lt;).</p>

 <p>Here is an example of a parameterized message:</p>
 <p>This will pull the min and max parameters from the IntRangeFieldValidator and
 the value of bar from the Action.</p>
 <!-- END SNIPPET: validationRules3 -->

 <pre>
 <!-- START SNIPPET: exValidationRules3 -->
    bar must be between ${min} and ${max}, current value is ${bar}.
 <!-- END SNIPPET: exValidationRules3 -->
 </pre>

 <!-- START SNIPPET: validationRules4 -->
 <p>Another notable fact is that the provided message value is capable of containing OGNL expressions.
 Keeping this in mind, it is possible to construct quite sophisticated messages.</p>
 <p>See the following example to get an impression:</p>

 <!-- END SNIPPET: validationRules4 -->

 <pre>
 <!-- START SNIPPET: exValidationRules4 -->
    &lt;message&gt;${getText("validation.failednotice")}! ${getText("reason")}: ${getText("validation.inputrequired")}&lt;/message&gt;
 <!-- END SNIPPET: exValidationRules4 -->
 </pre></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Jason Carreira, James House</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Validator.html" title="interface in org.apache.struts2.validator">Validator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getValidator(org.apache.struts2.validator.ValidatorConfig)" class="member-name-link">getValidator</a><wbr>(<a href="ValidatorConfig.html" title="class in org.apache.struts2.validator">ValidatorConfig</a>&nbsp;cfg)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get a Validator that matches the given configuration.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#lookupRegisteredValidatorType(java.lang.String)" class="member-name-link">lookupRegisteredValidatorType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Lookup to get the FQ classname of the given validator name.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#registerValidator(java.lang.String,java.lang.String)" class="member-name-link">registerValidator</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;className)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers the given validator to the existing map of validators.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getValidator(org.apache.struts2.validator.ValidatorConfig)">
<h3>getValidator</h3>
<div class="member-signature"><span class="return-type"><a href="Validator.html" title="interface in org.apache.struts2.validator">Validator</a></span>&nbsp;<span class="element-name">getValidator</span><wbr><span class="parameters">(<a href="ValidatorConfig.html" title="class in org.apache.struts2.validator">ValidatorConfig</a>&nbsp;cfg)</span></div>
<div class="block">Get a Validator that matches the given configuration.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cfg</code> - the configurator.</dd>
<dt>Returns:</dt>
<dd>the validator.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerValidator(java.lang.String,java.lang.String)">
<h3>registerValidator</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">registerValidator</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;className)</span></div>
<div class="block">Registers the given validator to the existing map of validators.
 This will <b>add</b> to the existing list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - name of validator to add.</dd>
<dd><code>className</code> - the FQ classname of the validator.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lookupRegisteredValidatorType(java.lang.String)">
<h3>lookupRegisteredValidatorType</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">lookupRegisteredValidatorType</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Lookup to get the FQ classname of the given validator name.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - name of validator to lookup.</dd>
<dt>Returns:</dt>
<dd>the found FQ classname</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - is thrown if the name is not found.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2000&#x2013;2025 <a href="https://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
