<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>PrepareInterceptor (Struts 2 Core 7.0.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.struts2.interceptor, class: PrepareInterceptor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PrepareInterceptor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.struts2.interceptor</a></div>
<h1 title="Class PrepareInterceptor" class="title">Class PrepareInterceptor</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="AbstractInterceptor.html" title="class in org.apache.struts2.interceptor">org.apache.struts2.interceptor.AbstractInterceptor</a>
<div class="inheritance"><a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">org.apache.struts2.interceptor.MethodFilterInterceptor</a>
<div class="inheritance">org.apache.struts2.interceptor.PrepareInterceptor</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="ConditionalInterceptor.html" title="interface in org.apache.struts2.interceptor">ConditionalInterceptor</a></code>, <code><a href="Interceptor.html" title="interface in org.apache.struts2.interceptor">Interceptor</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PrepareInterceptor</span>
<span class="extends-implements">extends <a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></span></div>
<div class="block"><!-- START SNIPPET: description -->

 This interceptor calls <code>prepare()</code> on actions which implement
 <a href="../Preparable.html" title="interface in org.apache.struts2"><code>Preparable</code></a>. This interceptor is very useful for any situation where
 you need to ensure some logic runs before the actual execute method runs.

 <p>
 A typical use of this is to run some logic to load an object from the
 database so that when parameters are set they can be set on this object. For
 example, suppose you have a User object with two properties: <i>id</i> and
 <i>name</i>. Provided that the params interceptor is called twice (once
 before and once after this interceptor), you can load the User object using
 the id property, and then when the second params interceptor is called the
 parameter <i>user.name</i> will be set, as desired, on the actual object
 loaded from the database. See the example for more info.
 </p>
 <p>
 <b>Note:</b> Since XWork 2.0.2, this interceptor extends <a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor"><code>MethodFilterInterceptor</code></a>, therefore being
 able to deal with excludeMethods / includeMethods parameters. See [Workflow Interceptor]
 (class <a href="DefaultWorkflowInterceptor.html" title="class in org.apache.struts2.interceptor"><code>DefaultWorkflowInterceptor</code></a>) for documentation and examples on how to use this feature.
 </p>

 <p>
 <b>Update</b>: Added logic to execute a prepare{MethodName} and conditionally
 the a general prepare() Method, depending on the 'alwaysInvokePrepare' parameter/property
 which is by default true. This allows us to run some logic based on the method
 name we specify in the <a href="../ActionProxy.html" title="interface in org.apache.struts2"><code>ActionProxy</code></a>. For example, you can specify a
 prepareInput() method that will be run before the invocation of the input method.
 </p>

 <!-- END SNIPPET: description -->

 <p><u>Interceptor parameters:</u></p>

 <!-- START SNIPPET: parameters -->

 <ul>

 <li>alwaysInvokePrepare - Default to true. If true, prepare will always be invoked,
 otherwise it will not.</li>

 </ul>

 <!-- END SNIPPET: parameters -->

 <p><u>Extending the interceptor:</u></p>

 <!-- START SNIPPET: extending -->

 There are no known extension points to this interceptor.

 <!-- END SNIPPET: extending -->

 <p> <u>Example code:</u></p>

 <pre>
 <!-- START SNIPPET: example -->
 &lt;!-- Calls the params interceptor twice, allowing you to
       pre-load data for the second time parameters are set --&gt;
  &lt;action name="someAction" class="com.examples.SomeAction"&gt;
      &lt;interceptor-ref name="params"/&gt;
      &lt;interceptor-ref name="prepare"/&gt;
      &lt;interceptor-ref name="basicStack"/&gt;
      &lt;result name="success"&gt;good_result.ftl&lt;/result&gt;
  &lt;/action&gt;
 <!-- END SNIPPET: example -->
 </pre></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Jason Carreira, Philip Luppens, tm_jee</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../Preparable.html" title="interface in org.apache.struts2"><code>Preparable</code></a></li>
<li><a href="../../../../serialized-form.html#org.apache.struts2.interceptor.PrepareInterceptor">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.struts2.interceptor.MethodFilterInterceptor">Fields inherited from class&nbsp;org.apache.struts2.interceptor.<a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></h3>
<code><a href="MethodFilterInterceptor.html#excludeMethods">excludeMethods</a>, <a href="MethodFilterInterceptor.html#includeMethods">includeMethods</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">PrepareInterceptor</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doIntercept(org.apache.struts2.ActionInvocation)" class="member-name-link">doIntercept</a><wbr>(<a href="../ActionInvocation.html" title="interface in org.apache.struts2">ActionInvocation</a>&nbsp;invocation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subclasses must override to implement the interceptor logic.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAlwaysInvokePrepare(java.lang.String)" class="member-name-link">setAlwaysInvokePrepare</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alwaysInvokePrepare)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets if the <code>prepare</code> method should always be executed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFirstCallPrepareDo(java.lang.String)" class="member-name-link">setFirstCallPrepareDo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;firstCallPrepareDo)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets if the <code>prepareDoXXX</code> method should be called first</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.struts2.interceptor.MethodFilterInterceptor">Methods inherited from class&nbsp;org.apache.struts2.interceptor.<a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></h3>
<code><a href="MethodFilterInterceptor.html#applyInterceptor(org.apache.struts2.ActionInvocation)">applyInterceptor</a>, <a href="MethodFilterInterceptor.html#getExcludeMethodsSet()">getExcludeMethodsSet</a>, <a href="MethodFilterInterceptor.html#getIncludeMethodsSet()">getIncludeMethodsSet</a>, <a href="MethodFilterInterceptor.html#intercept(org.apache.struts2.ActionInvocation)">intercept</a>, <a href="MethodFilterInterceptor.html#setExcludeMethods(java.lang.String)">setExcludeMethods</a>, <a href="MethodFilterInterceptor.html#setIncludeMethods(java.lang.String)">setIncludeMethods</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.struts2.interceptor.AbstractInterceptor">Methods inherited from class&nbsp;org.apache.struts2.interceptor.<a href="AbstractInterceptor.html" title="class in org.apache.struts2.interceptor">AbstractInterceptor</a></h3>
<code><a href="AbstractInterceptor.html#destroy()">destroy</a>, <a href="AbstractInterceptor.html#init()">init</a>, <a href="AbstractInterceptor.html#setDisabled(java.lang.String)">setDisabled</a>, <a href="AbstractInterceptor.html#shouldIntercept(org.apache.struts2.ActionInvocation)">shouldIntercept</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>PrepareInterceptor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrepareInterceptor</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setAlwaysInvokePrepare(java.lang.String)">
<h3>setAlwaysInvokePrepare</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAlwaysInvokePrepare</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alwaysInvokePrepare)</span></div>
<div class="block">Sets if the <code>prepare</code> method should always be executed.
 <p>
 Default is <tt>true</tt>.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>alwaysInvokePrepare</code> - if <code>prepare</code> should always be executed or not.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setFirstCallPrepareDo(java.lang.String)">
<h3>setFirstCallPrepareDo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFirstCallPrepareDo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;firstCallPrepareDo)</span></div>
<div class="block">Sets if the <code>prepareDoXXX</code> method should be called first
 <p>
 Default is <tt>false</tt> for backward compatibility
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>firstCallPrepareDo</code> - if <code>prepareDoXXX</code> should be called first</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doIntercept(org.apache.struts2.ActionInvocation)">
<h3>doIntercept</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">doIntercept</span><wbr><span class="parameters">(<a href="../ActionInvocation.html" title="interface in org.apache.struts2">ActionInvocation</a>&nbsp;invocation)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="MethodFilterInterceptor.html#doIntercept(org.apache.struts2.ActionInvocation)">MethodFilterInterceptor</a></code></span></div>
<div class="block">Subclasses must override to implement the interceptor logic.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MethodFilterInterceptor.html#doIntercept(org.apache.struts2.ActionInvocation)">doIntercept</a></code>&nbsp;in class&nbsp;<code><a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>invocation</code> - the action invocation</dd>
<dt>Returns:</dt>
<dd>the result of invocation</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - in case of any errors</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2000&#x2013;2025 <a href="https://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
