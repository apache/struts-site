<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ExecuteAndWaitInterceptor (Struts 2 Core 7.0.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.struts2.interceptor, class: ExecuteAndWaitInterceptor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ExecuteAndWaitInterceptor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.struts2.interceptor</a></div>
<h1 title="Class ExecuteAndWaitInterceptor" class="title">Class ExecuteAndWaitInterceptor</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="AbstractInterceptor.html" title="class in org.apache.struts2.interceptor">org.apache.struts2.interceptor.AbstractInterceptor</a>
<div class="inheritance"><a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">org.apache.struts2.interceptor.MethodFilterInterceptor</a>
<div class="inheritance">org.apache.struts2.interceptor.ExecuteAndWaitInterceptor</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="ConditionalInterceptor.html" title="interface in org.apache.struts2.interceptor">ConditionalInterceptor</a></code>, <code><a href="Interceptor.html" title="interface in org.apache.struts2.interceptor">Interceptor</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ExecuteAndWaitInterceptor</span>
<span class="extends-implements">extends <a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></span></div>
<div class="block"><!-- START SNIPPET: description -->
 <p>
 The ExecuteAndWaitInterceptor is great for running long-lived actions in the background while showing the user a nice
 progress meter. This also prevents the HTTP request from timing out when the action takes more than 5 or 10 minutes.
 </p>

 <p> Using this interceptor is pretty straight forward. Assuming that you are including struts-default.xml, this
 interceptor is already configured but is not part of any of the default stacks. Because of the nature of this
 interceptor, it must be the <b>last</b> interceptor in the stack.
 </p>

 <p> This interceptor works on a per-session basis. That means that the same action name (myLongRunningAction, in the
 above example) cannot be run more than once at a time in a given session. On the initial request or any subsequent
 requests (before the action has completed), the <b>wait</b> result will be returned. <b>The wait result is
 responsible for issuing a subsequent request back to the action, giving the effect of a self-updating progress
 meter</b>.
 </p>

 <p> If no "wait" result is found, Struts will automatically generate a wait result on the fly. This result is
 written in FreeMarker and cannot run unless FreeMarker is installed. If you don't wish to deploy with FreeMarker, you
 must provide your own wait result. This is generally a good thing to do anyway, as the default wait page is very
 plain.
 </p>

 <p>Whenever the wait result is returned, the <b>action that is currently running in the background will be placed on
 top of the stack</b>. This allows you to display progress data, such as a count, in the wait page. By making the wait
 page automatically reload the request to the action (which will be short-circuited by the interceptor), you can give
 the appearance of an automatic progress meter.
 </p>

 <p>This interceptor also supports using an initial wait delay. An initial delay is a time in milliseconds we let the
 server wait before the wait page is shown to the user. During the wait this interceptor will wake every 100 millis
 to check if the background process is done premature, thus if the job for some reason doesn't take to long the wait
 page is not shown to the user.
 <br> This is useful for e.g. search actions that have a wide span of execution time. Using a delay time of 2000
 millis we ensure the user is presented fast search results immediately and for the slow results a wait page is used.
 </p>

 <p><b>Important</b>: Because the action will be running in a separate thread, you can't use ActionContext because it
 is a ThreadLocal. This means if you need to access, for example, session data, you need to implement SessionAware
 rather than calling ActionContext.getSession().
 </p>

 <p>The thread kicked off by this interceptor will be named in the form <b><u>actionName</u>BackgroundProcess</b>.
 For example, the <i>search</i> action would run as a thread named <i>searchBackgroundProcess</i>.
 </p>
 <!-- END SNIPPET: description -->

 <p><u>Interceptor parameters:</u></p>
 <p>
 <!-- START SNIPPET: parameters -->

 <ul>

 <li>threadPriority (optional) - the priority to assign the thread. Default is <code>Thread.NORM_PRIORITY</code>.</li>
 <li>delay (optional) - an initial delay in millis to wait before the wait page is shown (returning <code>wait</code> as result code). Default is no initial delay.</li>
 <li>delaySleepInterval (optional) - only used with delay. Used for waking up at certain intervals to check if the background process is already done. Default is 100 millis.</li>

 </ul>
 <p>
 <!-- END SNIPPET: parameters -->

 <p><u>Extending the interceptor:</u></p>
 <p>
 <!-- START SNIPPET: extending -->
 <p>
 If you wish to make special preparations before and/or after the invocation of the background thread, you can extend
 the BackgroundProcess class and implement the beforeInvocation() and afterInvocation() methods. This may be useful
 for obtaining and releasing resources that the background process will need to execute successfully. To use your
 background process extension, extend ExecuteAndWaitInterceptor and implement the getNewBackgroundProcess() method.
 </p>
 <!-- END SNIPPET: extending -->

 <p><u>Example code:</u></p>

 <pre>
 <!-- START SNIPPET: example -->
 &lt;action name="someAction" class="com.examples.SomeAction"&gt;
     &lt;interceptor-ref name="completeStack"/&gt;
     &lt;interceptor-ref name="execAndWait"/&gt;
     &lt;result name="wait"&gt;longRunningAction-wait.jsp&lt;/result&gt;
     &lt;result name="success"&gt;longRunningAction-success.jsp&lt;/result&gt;
 &lt;/action&gt;

 &lt;%@ taglib prefix="s" uri="/struts" %&gt;
 &lt;html&gt;
   &lt;head&gt;
     &lt;title&gt;Please wait&lt;/title&gt;
     &lt;meta http-equiv="refresh" content="5;url=&lt;s:url includeParams="all" /&gt;"/&gt;
   &lt;/head&gt;
   &lt;body&gt;
     Please wait while we process your request.
     Click &lt;a href="&lt;s:url includeParams="all" /&gt;"&gt;&lt;/a&gt; if this page does not reload automatically.
   &lt;/body&gt;
 &lt;/html&gt;
 </pre>

 <p><u>Example code2:</u></p>
 <p>
 This example will wait 2 second (2000 millis) before the wait page is shown to the user. Therefore
 if the long process didn't last long anyway the user isn't shown a wait page.
 </p>

 <pre>
 &lt;action name="someAction" class="com.examples.SomeAction"&gt;
     &lt;interceptor-ref name="completeStack"/&gt;
     &lt;interceptor-ref name="execAndWait"&gt;
         &lt;param name="delay"&gt;2000&lt;param&gt;
     &lt;interceptor-ref&gt;
     &lt;result name="wait"&gt;longRunningAction-wait.jsp&lt;/result&gt;
     &lt;result name="success"&gt;longRunningAction-success.jsp&lt;/result&gt;
 &lt;/action&gt;
 </pre>

 <p><u>Example code3:</u></p>
 <p>
 This example will wait 1 second (1000 millis) before the wait page is shown to the user.
 And at every 50 millis this interceptor will check if the background process is done, if so
 it will return before the 1 second has elapsed, and the user isn't shown a wait page.
 </p>

 <pre>
 &lt;action name="someAction" class="com.examples.SomeAction"&gt;
     &lt;interceptor-ref name="completeStack"/&gt;
     &lt;interceptor-ref name="execAndWait"&gt;
         &lt;param name="delay"&gt;1000&lt;param&gt;
         &lt;param name="delaySleepInterval"&gt;50&lt;param&gt;
     &lt;interceptor-ref&gt;
     &lt;result name="wait"&gt;longRunningAction-wait.jsp&lt;/result&gt;
     &lt;result name="success"&gt;longRunningAction-success.jsp&lt;/result&gt;
 &lt;/action&gt;
 </pre>
 <p>
 <!-- END SNIPPET: example --></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../serialized-form.html#org.apache.struts2.interceptor.ExecuteAndWaitInterceptor">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#delay" class="member-name-link">delay</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#delaySleepInterval" class="member-name-link">delaySleepInterval</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#executeAfterValidationPass" class="member-name-link">executeAfterValidationPass</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#KEY" class="member-name-link">KEY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAIT" class="member-name-link">WAIT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.struts2.interceptor.MethodFilterInterceptor">Fields inherited from class&nbsp;org.apache.struts2.interceptor.<a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></h3>
<code><a href="MethodFilterInterceptor.html#excludeMethods">excludeMethods</a>, <a href="MethodFilterInterceptor.html#includeMethods">includeMethods</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ExecuteAndWaitInterceptor</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#destroy()" class="member-name-link">destroy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Does nothing</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doIntercept(org.apache.struts2.ActionInvocation)" class="member-name-link">doIntercept</a><wbr>(<a href="../ActionInvocation.html" title="interface in org.apache.struts2">ActionInvocation</a>&nbsp;actionInvocation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subclasses must override to implement the interceptor logic.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBackgroundProcessName(org.apache.struts2.ActionProxy)" class="member-name-link">getBackgroundProcessName</a><wbr>(<a href="../ActionProxy.html" title="interface in org.apache.struts2">ActionProxy</a>&nbsp;proxy)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the name to associate the background process.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="exec/BackgroundProcess.html" title="interface in org.apache.struts2.interceptor.exec">BackgroundProcess</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNewBackgroundProcess(java.lang.String,org.apache.struts2.ActionInvocation,int)" class="member-name-link">getNewBackgroundProcess</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../ActionInvocation.html" title="interface in org.apache.struts2">ActionInvocation</a>&nbsp;actionInvocation,
 int&nbsp;threadPriority)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new background process</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init()" class="member-name-link">init</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Does nothing</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#performInitialDelay(org.apache.struts2.interceptor.exec.BackgroundProcess)" class="member-name-link">performInitialDelay</a><wbr>(<a href="exec/BackgroundProcess.html" title="interface in org.apache.struts2.interceptor.exec">BackgroundProcess</a>&nbsp;bp)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Performs the initial delay.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setContainer(org.apache.struts2.inject.Container)" class="member-name-link">setContainer</a><wbr>(<a href="../inject/Container.html" title="interface in org.apache.struts2.inject">Container</a>&nbsp;container)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDelay(int)" class="member-name-link">setDelay</a><wbr>(int&nbsp;delay)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the initial delay in millis (msec).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDelaySleepInterval(int)" class="member-name-link">setDelaySleepInterval</a><wbr>(int&nbsp;delaySleepInterval)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the sleep interval in millis (msec) when performing the initial delay.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setExecuteAfterValidationPass(boolean)" class="member-name-link">setExecuteAfterValidationPass</a><wbr>(boolean&nbsp;executeAfterValidationPass)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Whether to start the background process after the second pass (first being validation)
 or not</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setExecutorProvider(org.apache.struts2.interceptor.exec.ExecutorProvider)" class="member-name-link">setExecutorProvider</a><wbr>(<a href="exec/ExecutorProvider.html" title="interface in org.apache.struts2.interceptor.exec">ExecutorProvider</a>&nbsp;executorProvider)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setThreadPriority(int)" class="member-name-link">setThreadPriority</a><wbr>(int&nbsp;threadPriority)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the thread priority of the background process.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.struts2.interceptor.MethodFilterInterceptor">Methods inherited from class&nbsp;org.apache.struts2.interceptor.<a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></h3>
<code><a href="MethodFilterInterceptor.html#applyInterceptor(org.apache.struts2.ActionInvocation)">applyInterceptor</a>, <a href="MethodFilterInterceptor.html#getExcludeMethodsSet()">getExcludeMethodsSet</a>, <a href="MethodFilterInterceptor.html#getIncludeMethodsSet()">getIncludeMethodsSet</a>, <a href="MethodFilterInterceptor.html#intercept(org.apache.struts2.ActionInvocation)">intercept</a>, <a href="MethodFilterInterceptor.html#setExcludeMethods(java.lang.String)">setExcludeMethods</a>, <a href="MethodFilterInterceptor.html#setIncludeMethods(java.lang.String)">setIncludeMethods</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.struts2.interceptor.AbstractInterceptor">Methods inherited from class&nbsp;org.apache.struts2.interceptor.<a href="AbstractInterceptor.html" title="class in org.apache.struts2.interceptor">AbstractInterceptor</a></h3>
<code><a href="AbstractInterceptor.html#setDisabled(java.lang.String)">setDisabled</a>, <a href="AbstractInterceptor.html#shouldIntercept(org.apache.struts2.ActionInvocation)">shouldIntercept</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="KEY">
<h3>KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">KEY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.apache.struts2.interceptor.ExecuteAndWaitInterceptor.KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="WAIT">
<h3>WAIT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">WAIT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#org.apache.struts2.interceptor.ExecuteAndWaitInterceptor.WAIT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delay">
<h3>delay</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">delay</span></div>
</section>
</li>
<li>
<section class="detail" id="delaySleepInterval">
<h3>delaySleepInterval</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">delaySleepInterval</span></div>
</section>
</li>
<li>
<section class="detail" id="executeAfterValidationPass">
<h3>executeAfterValidationPass</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">executeAfterValidationPass</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ExecuteAndWaitInterceptor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ExecuteAndWaitInterceptor</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setContainer(org.apache.struts2.inject.Container)">
<h3>setContainer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setContainer</span><wbr><span class="parameters">(<a href="../inject/Container.html" title="interface in org.apache.struts2.inject">Container</a>&nbsp;container)</span></div>
</section>
</li>
<li>
<section class="detail" id="setExecutorProvider(org.apache.struts2.interceptor.exec.ExecutorProvider)">
<h3>setExecutorProvider</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setExecutorProvider</span><wbr><span class="parameters">(<a href="exec/ExecutorProvider.html" title="interface in org.apache.struts2.interceptor.exec">ExecutorProvider</a>&nbsp;executorProvider)</span></div>
</section>
</li>
<li>
<section class="detail" id="getNewBackgroundProcess(java.lang.String,org.apache.struts2.ActionInvocation,int)">
<h3>getNewBackgroundProcess</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="exec/BackgroundProcess.html" title="interface in org.apache.struts2.interceptor.exec">BackgroundProcess</a></span>&nbsp;<span class="element-name">getNewBackgroundProcess</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../ActionInvocation.html" title="interface in org.apache.struts2">ActionInvocation</a>&nbsp;actionInvocation,
 int&nbsp;threadPriority)</span></div>
<div class="block">Creates a new background process</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The process name</dd>
<dd><code>actionInvocation</code> - The action invocation</dd>
<dd><code>threadPriority</code> - The thread priority</dd>
<dt>Returns:</dt>
<dd>The new process</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBackgroundProcessName(org.apache.struts2.ActionProxy)">
<h3>getBackgroundProcessName</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getBackgroundProcessName</span><wbr><span class="parameters">(<a href="../ActionProxy.html" title="interface in org.apache.struts2">ActionProxy</a>&nbsp;proxy)</span></div>
<div class="block">Returns the name to associate the background process.  Override to change the way background processes
 are mapped to requests.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>proxy</code> - action proxy</dd>
<dt>Returns:</dt>
<dd>the name of the background thread</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doIntercept(org.apache.struts2.ActionInvocation)">
<h3>doIntercept</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">doIntercept</span><wbr><span class="parameters">(<a href="../ActionInvocation.html" title="interface in org.apache.struts2">ActionInvocation</a>&nbsp;actionInvocation)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="MethodFilterInterceptor.html#doIntercept(org.apache.struts2.ActionInvocation)">MethodFilterInterceptor</a></code></span></div>
<div class="block">Subclasses must override to implement the interceptor logic.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MethodFilterInterceptor.html#doIntercept(org.apache.struts2.ActionInvocation)">doIntercept</a></code>&nbsp;in class&nbsp;<code><a href="MethodFilterInterceptor.html" title="class in org.apache.struts2.interceptor">MethodFilterInterceptor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>actionInvocation</code> - the action invocation</dd>
<dt>Returns:</dt>
<dd>the result of invocation</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - in case of any errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="performInitialDelay(org.apache.struts2.interceptor.exec.BackgroundProcess)">
<h3>performInitialDelay</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">performInitialDelay</span><wbr><span class="parameters">(<a href="exec/BackgroundProcess.html" title="interface in org.apache.struts2.interceptor.exec">BackgroundProcess</a>&nbsp;bp)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block"><p>
 Performs the initial delay.
 </p>

 <p>
 When this interceptor is executed for the first time this methods handles any provided initial delay.
 An initial delay is a time in milliseconds we let the server wait before we continue.
 <br> During the wait this interceptor will wake every 100 millis to check if the background
 process is done premature, thus if the job for some reason doesn't take to long the wait
 page is not shown to the user.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bp</code> - the background process</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code> - is thrown by Thread.sleep</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setThreadPriority(int)">
<h3>setThreadPriority</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setThreadPriority</span><wbr><span class="parameters">(int&nbsp;threadPriority)</span></div>
<div class="block">Sets the thread priority of the background process.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>threadPriority</code> - the priority from <code>Thread.XXX</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDelay(int)">
<h3>setDelay</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDelay</span><wbr><span class="parameters">(int&nbsp;delay)</span></div>
<div class="block">Sets the initial delay in millis (msec).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>delay</code> - in millis. (0 for not used)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDelaySleepInterval(int)">
<h3>setDelaySleepInterval</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDelaySleepInterval</span><wbr><span class="parameters">(int&nbsp;delaySleepInterval)</span></div>
<div class="block">Sets the sleep interval in millis (msec) when performing the initial delay.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>delaySleepInterval</code> - in millis (0 for not used)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setExecuteAfterValidationPass(boolean)">
<h3>setExecuteAfterValidationPass</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setExecuteAfterValidationPass</span><wbr><span class="parameters">(boolean&nbsp;executeAfterValidationPass)</span></div>
<div class="block">Whether to start the background process after the second pass (first being validation)
 or not</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executeAfterValidationPass</code> - the executeAfterValidationPass to set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="init()">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">init</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractInterceptor.html#init()">AbstractInterceptor</a></code></span></div>
<div class="block">Does nothing</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Interceptor.html#init()">init</a></code>&nbsp;in interface&nbsp;<code><a href="Interceptor.html" title="interface in org.apache.struts2.interceptor">Interceptor</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="AbstractInterceptor.html#init()">init</a></code>&nbsp;in class&nbsp;<code><a href="AbstractInterceptor.html" title="class in org.apache.struts2.interceptor">AbstractInterceptor</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">destroy</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractInterceptor.html#destroy()">AbstractInterceptor</a></code></span></div>
<div class="block">Does nothing</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Interceptor.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="Interceptor.html" title="interface in org.apache.struts2.interceptor">Interceptor</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="AbstractInterceptor.html#destroy()">destroy</a></code>&nbsp;in class&nbsp;<code><a href="AbstractInterceptor.html" title="class in org.apache.struts2.interceptor">AbstractInterceptor</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2000&#x2013;2024 <a href="https://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
